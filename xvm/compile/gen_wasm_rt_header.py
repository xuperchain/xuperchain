#!/usr/bin/env python

import sys

def print_hex(body):
    i = 0
    for byte in body:
        if i % 12 == 0:
            sys.stdout.write("\n\t")
        sys.stdout.write("0x%02x, "%(ord(byte)))
        i += 1
    print ""

def main():
    if len(sys.argv) < 2:
        print "usage: %s wasm-rt.h"%(sys.argv[0])
        return
    body = open(sys.argv[1]).read()
    print "// generated by script, do not edit!!!"
    print ""
    print "package compile"
    print ""
    print "var wasmRTHeader = []byte {"
    print_hex(body)
    print "}"

main()
